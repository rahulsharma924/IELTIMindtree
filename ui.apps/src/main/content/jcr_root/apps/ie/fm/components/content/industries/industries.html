
<section
  aria-label="industries carousal"
  class="industries_carousel_main analytic-industrial-automation"
>
  <h3 class="industries_carousel_title_h2">${properties.heading}</h3>
  <p class="industries_carousel_desc_p">${properties.subheading}</p>
  <div>
    <sly
      data-sly-use.listUse="${'/apps/ie/fm/clientlibs/clientlib-base/js/listcollection.js' @ multifieldName='industriesMulti'}"
    >
      <div data-sly-list="${listUse}" class="slider slider-nav">
        <div>
          <figure class="customcap_icon industries_carousel_img">
            <img
              src="${item.properties.image}"
              alt="${item.properties.title}"
              loading="lazy"
              style="width:100%; height:100%;"
            />
          </figure>
          <div class="text-wrapper">
            <h4 class="industries_section_title">${item.properties.title}</h4>
            <p class="industries_section_desc">
              ${item.properties.description}
            </p>
          </div>
          <a
            title="${item.properties.buttontext}"
            role="link"
            href="${item.properties.buttonlink}"
            class="industries_section_link"
            >${item.properties.buttontext}
          </a>
        </div>
      </div>
    </sly>
  </div>
</section>

<script id="rendered-js">
  if ($.fn.slick && $.fn.slick !== undefined) {
    $(".slider-nav").slick({
      slidesToShow: 4,
      slidesToScroll: 1,
      dots: true,
      infinite: false,
      responsive: [
        {
          breakpoint: 1800,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
            infinite: false,
            dots: true,
          },
        },
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
            infinite: false,
            dots: true,
          },
        },
        {
          breakpoint: 833,
          settings: {
            slidesToShow: 2.2,
            slidesToScroll: 1,
            infinite: false,
            dots: true,
          },
        },
        {
          breakpoint: 600,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 545,
          settings: {
            slidesToShow: 1.2,
            slidesToScroll: 1,
            fade: false,
          },
        },
        // You can unslick at a given breakpoint now by adding:
        // settings: "unslick"
        // instead of a settings object
      ],
    });
  }
</script>
<script>
  document.querySelector("body").addEventListener(
    "click",
    function (e) {
      var hyperlinkElement = e.target.closest("a");
      var label = "";
      var category = "";
      var buttonElement = e.target.closest("button");
      if (
        hyperlinkElement !== null &&
        hyperlinkElement.closest(".analytic-industrial-automation") != null
      ) {
        label = hyperlinkElement.textContent.trim();
        category =
          hyperlinkElement.previousElementSibling.firstChild.nextSibling.textContent.trim() +
          "-" +
          '${currentPage.getName @ context="scriptString"}';
      } else if (
        buttonElement !== null &&
        buttonElement.closest(".analytic-industrial-automation") != null
      ) {
        if (
          buttonElement.textContent.trim() == "Previous" ||
          buttonElement.textContent.trim() == "Next"
        ) {
          label =
            "banner navigation-" +
            (buttonElement.textContent.trim() == "Previous"
              ? "leftarrow"
              : "rightarrow");
          category = "Industries section-homepage";
        } else {
          label =
            "banner bottom navigation-position" +
            buttonElement.textContent.trim();
          category = "Industries section-homepage";
        }
      }
      ctalinkDataLayerCall(label, category);
    },
    false
  );
</script>
